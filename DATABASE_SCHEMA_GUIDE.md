# StepAI API - ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ê°€ì´ë“œ

## ðŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ê°œìš”

StepAI APIëŠ” AI ì„œë¹„ìŠ¤ ì†Œê°œ ë° ì´ìš©ë°©ë²• ì¶”ì²œ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì´ ë¬¸ì„œëŠ” ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ì™€ ì—”í‹°í‹° ê°„ì˜ ê´€ê³„ë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.

## ðŸ—ï¸ ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Users       â”‚    â”‚   AI Services   â”‚    â”‚   AI Videos     â”‚
â”‚   (íšŒì› ê´€ë¦¬)    â”‚    â”‚  (AI ì„œë¹„ìŠ¤)     â”‚    â”‚   (AI ì˜ìƒ)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Categories    â”‚    â”‚   Curations     â”‚    â”‚   User Favorites â”‚
â”‚ (ê³„ì¸µì  ì¹´í…Œê³ ë¦¬) â”‚    â”‚   (íë ˆì´ì…˜)     â”‚    â”‚   (ì‚¬ìš©ìž ì¦ê²¨ì°¾ê¸°)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Reviews      â”‚    â”‚   View Records  â”‚    â”‚    Rankings     â”‚
â”‚   (ë¦¬ë·° ì‹œìŠ¤í…œ)   â”‚    â”‚   (ì¡°íšŒ ê¸°ë¡)    â”‚    â”‚   (ëž­í‚¹ ì‹œìŠ¤í…œ)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ‘¥ ì‚¬ìš©ìž ê´€ë¦¬ í…Œì´ë¸”

### Users (íšŒì›)
```sql
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(50) NOT NULL,
  email VARCHAR(100) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  user_type VARCHAR(20) DEFAULT 'member', -- member, admin
  user_status VARCHAR(20) DEFAULT 'active', -- active, inactive, pending, deleted
  deleted_at TIMESTAMP NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

**ì£¼ìš” íŠ¹ì§•:**
- ì†Œí”„íŠ¸ ì‚­ì œ ì§€ì› (`deleted_at`)
- ë‹¨ìˆœí™”ëœ ì‚¬ìš©ìž íƒ€ìž… (member, admin)
- ì´ë©”ì¼ ì¤‘ë³µ ë°©ì§€

## ðŸ¤– AI ì„œë¹„ìŠ¤ ë° ì˜ìƒ í…Œì´ë¸”

### AI Services (AI ì„œë¹„ìŠ¤)
```sql
CREATE TABLE ai_services (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_name VARCHAR(100) NOT NULL,
  ai_description TEXT,
  ai_type VARCHAR(255) NOT NULL, -- LLM, RAG, GPTs, Image_Generation, Video_Generation, etc.
  ai_website VARCHAR(255),
  ai_logo VARCHAR(255),
  pricing_model VARCHAR(50), -- free, freemium, paid, subscription
  pricing_info TEXT,
  difficulty_level VARCHAR(20) DEFAULT 'beginner', -- beginner, intermediate, advanced
  ai_status VARCHAR(20) DEFAULT 'active', -- active, inactive, pending, deleted
  is_visible BOOLEAN DEFAULT TRUE, -- ì‚¬ì´íŠ¸ ë…¸ì¶œì—¬ë¶€
  is_step_pick BOOLEAN DEFAULT FALSE, -- Step Pick ì—¬ë¶€
  nationality VARCHAR(20),
  deleted_at TIMESTAMP NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### AI Videos (AI ì˜ìƒ)
```sql
CREATE TABLE ai_videos (
  id INT AUTO_INCREMENT PRIMARY KEY,
  video_title VARCHAR(200) NOT NULL,
  video_description TEXT,
  video_url VARCHAR(255) NOT NULL,
  thumbnail_url VARCHAR(255),
  duration INT DEFAULT 0, -- ì´ˆ ë‹¨ìœ„
  video_status VARCHAR(20) DEFAULT 'active', -- active, inactive, pending, deleted
  is_visible BOOLEAN DEFAULT TRUE, -- ì‚¬ì´íŠ¸ ë…¸ì¶œì—¬ë¶€
  view_count INT DEFAULT 0,
  like_count INT DEFAULT 0,
  deleted_at TIMESTAMP NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

### Categories (ì¹´í…Œê³ ë¦¬ - ë©”ì¸/ì„œë¸Œ êµ¬ì¡°)
```sql
CREATE TABLE categories (
  id INT AUTO_INCREMENT PRIMARY KEY,
  category_name VARCHAR(100) NOT NULL,
  category_description TEXT,
  category_icon VARCHAR(255),
  parent_id INT NULL, -- ë¶€ëª¨ ì¹´í…Œê³ ë¦¬ ID (NULLì´ë©´ ë©”ì¸ ì¹´í…Œê³ ë¦¬)
  category_order INT DEFAULT 0,
  category_status VARCHAR(20) DEFAULT 'active', -- active, inactive
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (parent_id) REFERENCES categories(id)
);
```

### Curations (íë ˆì´ì…˜)
```sql
CREATE TABLE curations (
  id INT AUTO_INCREMENT PRIMARY KEY,
  curation_title VARCHAR(200) NOT NULL,
  curation_description TEXT,
  curation_thumbnail VARCHAR(255),
  curation_order INT DEFAULT 0,
  curation_status VARCHAR(20) DEFAULT 'active', -- active, inactive, pending, deleted
  deleted_at TIMESTAMP NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
```

## ðŸ”— ê´€ê³„ í…Œì´ë¸” (Many-to-Many)

### AI Service Categories (AI ì„œë¹„ìŠ¤-ì¹´í…Œê³ ë¦¬ ê´€ê³„)
```sql
CREATE TABLE ai_service_categories (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_service_id INT NOT NULL,
  category_id INT NOT NULL,
  is_main_category BOOLEAN DEFAULT FALSE, -- ë©”ì¸(ëŒ€í‘œ) ì¹´í…Œê³ ë¦¬ ì—¬ë¶€
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE,
  FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE,
  UNIQUE KEY unique_ai_service_category (ai_service_id, category_id)
);
```

### AI Video Categories (AI ì˜ìƒ-ì¹´í…Œê³ ë¦¬ ê´€ê³„)
```sql
CREATE TABLE ai_video_categories (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_video_id INT NOT NULL,
  category_id INT NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_video_id) REFERENCES ai_videos(id) ON DELETE CASCADE,
  FOREIGN KEY (category_id) REFERENCES categories(id) ON DELETE CASCADE,
  UNIQUE KEY unique_ai_video_category (ai_video_id, category_id)
);
```

### AI Video Services (AI ì˜ìƒì—ì„œ ì‚¬ìš©ëœ AI ì„œë¹„ìŠ¤)
```sql
CREATE TABLE ai_video_services (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_video_id INT NOT NULL,
  ai_service_id INT NOT NULL,
  usage_description TEXT,
  usage_order INT DEFAULT 0, -- ì‚¬ìš© ìˆœì„œ
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_video_id) REFERENCES ai_videos(id) ON DELETE CASCADE,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE,
  UNIQUE KEY unique_ai_video_service (ai_video_id, ai_service_id)
);
```

### Curation AI Services (íë ˆì´ì…˜ì— í¬í•¨ëœ AI ì„œë¹„ìŠ¤)
```sql
CREATE TABLE curation_ai_services (
  id INT AUTO_INCREMENT PRIMARY KEY,
  curation_id INT NOT NULL,
  ai_service_id INT NOT NULL,
  service_order INT DEFAULT 0, -- íë ˆì´ì…˜ ë‚´ ìˆœì„œ
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (curation_id) REFERENCES curations(id) ON DELETE CASCADE,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE,
  UNIQUE KEY unique_curation_ai_service (curation_id, ai_service_id)
);
```

## ðŸ‘¤ ì‚¬ìš©ìž ê¸°ëŠ¥ í…Œì´ë¸”

### User Favorites (ì‚¬ìš©ìž ì¦ê²¨ì°¾ê¸°)
```sql
CREATE TABLE user_favorites (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT NOT NULL,
  favorite_type VARCHAR(20) NOT NULL, -- ai_service, ai_video, curation
  favorite_id INT NOT NULL, -- AI ì„œë¹„ìŠ¤, AI ì˜ìƒ, íë ˆì´ì…˜ ID
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE KEY unique_user_favorite (user_id, favorite_type, favorite_id)
);
```

### Reviews (ë¦¬ë·°)
```sql
CREATE TABLE reviews (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT NOT NULL,
  review_type VARCHAR(20) NOT NULL, -- ai_service, ai_video
  review_target_id INT NOT NULL, -- AI ì„œë¹„ìŠ¤ ë˜ëŠ” AI ì˜ìƒ ID
  rating INT NOT NULL CHECK (rating >= 1 AND rating <= 5),
  review_text TEXT,
  review_status VARCHAR(20) DEFAULT 'active', -- active, hidden, deleted
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  UNIQUE KEY unique_user_review (user_id, review_type, review_target_id)
);
```

## ðŸ“Š ì¡°íšŒ ê¸°ë¡ ë° ëž­í‚¹ ì‹œìŠ¤í…œ

### AI Service Views (AI ì„œë¹„ìŠ¤ ì¡°íšŒ ê¸°ë¡)
```sql
CREATE TABLE ai_service_views (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_service_id INT NOT NULL,
  user_id INT NULL,
  view_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL
);
```

### AI Video Views (AI ì˜ìƒ ì¡°íšŒ ê¸°ë¡)
```sql
CREATE TABLE ai_video_views (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_video_id INT NOT NULL,
  user_id INT NULL,
  view_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  ip_address VARCHAR(45),
  user_agent TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_video_id) REFERENCES ai_videos(id) ON DELETE CASCADE,
  FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE SET NULL
);
```

### Rankings (ëž­í‚¹ ê²°ê³¼ ì €ìž¥)
```sql
CREATE TABLE rankings (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ranking_type VARCHAR(50) NOT NULL, -- ai_service, ai_video, category, curation
  entity_id INT NOT NULL,
  entity_type VARCHAR(50) NOT NULL, -- ai_service_id, ai_video_id, category_id, curation_id
  total_score DECIMAL(10,3) NOT NULL,
  view_count INT DEFAULT 0,
  favorite_count INT DEFAULT 0,
  avg_rating DECIMAL(3,2) DEFAULT 0.00,
  ranking_date DATE NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE KEY unique_ranking (ranking_type, entity_id, ranking_date)
);
```## ðŸ”§ AI ì„œë¹„ìŠ¤ í™•ìž¥ í…Œì´ë¸”

### AI Service Contents (AI ì„œë¹„ìŠ¤ ì½˜í…ì¸ )
```sql
CREATE TABLE ai_service_contents (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_service_id INT NOT NULL,
  content_type VARCHAR(50) NOT NULL, -- target_users, main_features, use_cases
  content_title VARCHAR(200),
  content_text TEXT,
  content_order INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE
);
```

### AI Service SNS (AI ì„œë¹„ìŠ¤ SNS)
```sql
CREATE TABLE ai_service_sns (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_service_id INT NOT NULL,
  sns_type VARCHAR(50) NOT NULL, -- twitter, facebook, instagram, youtube, linkedin, etc.
  sns_url VARCHAR(500) NOT NULL,
  sns_order INT DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE
);
```

### AI Service Similar Services (ìœ ì‚¬ ì„œë¹„ìŠ¤)
```sql
CREATE TABLE ai_service_similar_services (
  id INT AUTO_INCREMENT PRIMARY KEY,
  ai_service_id INT NOT NULL,
  similar_service_id INT NOT NULL,
  similarity_reason TEXT,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  FOREIGN KEY (ai_service_id) REFERENCES ai_services(id) ON DELETE CASCADE,
  FOREIGN KEY (similar_service_id) REFERENCES ai_services(id) ON DELETE CASCADE,
  UNIQUE KEY unique_similar_service (ai_service_id, similar_service_id)
);
```

## ðŸ“ˆ ì£¼ìš” ì¸ë±ìŠ¤

```sql
-- ì‚¬ìš©ìž ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_type_status ON users(user_type, user_status);

-- AI ì„œë¹„ìŠ¤ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_ai_services_type ON ai_services(ai_type);
CREATE INDEX idx_ai_services_status ON ai_services(ai_status);
CREATE INDEX idx_ai_services_nationality ON ai_services(nationality);
CREATE INDEX idx_ai_services_step_pick ON ai_services(is_step_pick);

-- AI ì˜ìƒ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_ai_videos_status ON ai_videos(video_status);
CREATE INDEX idx_ai_videos_view_count ON ai_videos(view_count);

-- ì¹´í…Œê³ ë¦¬ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_categories_parent ON categories(parent_id);
CREATE INDEX idx_categories_status ON categories(category_status);
CREATE INDEX idx_categories_order ON categories(category_order);

-- ì¡°íšŒ ê¸°ë¡ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_ai_service_views_service ON ai_service_views(ai_service_id);
CREATE INDEX idx_ai_service_views_date ON ai_service_views(view_date);
CREATE INDEX idx_ai_video_views_video ON ai_video_views(ai_video_id);
CREATE INDEX idx_ai_video_views_date ON ai_video_views(view_date);

-- ëž­í‚¹ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_rankings_type_date ON rankings(ranking_type, ranking_date);
CREATE INDEX idx_rankings_entity ON rankings(entity_type, entity_id);
```

## ðŸŽ¯ ì£¼ìš” íŠ¹ì§•

### 1. ê³„ì¸µì  ì¹´í…Œê³ ë¦¬ êµ¬ì¡°
- ë©”ì¸ ì¹´í…Œê³ ë¦¬ì™€ ì„œë¸Œ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì„±
- `parent_id`ë¥¼ í†µí•œ ìžê¸° ì°¸ì¡° ê´€ê³„
- ë“œëž˜ê·¸ ì•¤ ë“œë¡­ì„ ìœ„í•œ `category_order` í•„ë“œ

### 2. ì†Œí”„íŠ¸ ì‚­ì œ ì§€ì›
- `deleted_at` í•„ë“œë¥¼ í†µí•œ ë…¼ë¦¬ì  ì‚­ì œ
- ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥
- ê´€ë ¨ ë°ì´í„° ë¬´ê²°ì„± ìœ ì§€

### 3. ê°€ê²© ì •ë³´ ê´€ë¦¬
- `pricing_model`: ë¬´ë£Œ, í”„ë¦¬ë¯¸ì—„, ìœ ë£Œ, êµ¬ë… ëª¨ë¸
- `pricing_info`: ìƒì„¸ ê°€ê²© ì •ë³´
- `difficulty_level`: ì‚¬ìš© ë‚œì´ë„

### 4. ì¡°íšŒ ê¸°ë¡ ë° ëž­í‚¹
- ì‹¤ì‹œê°„ ì¡°íšŒ ê¸°ë¡ ì €ìž¥
- ë‹¤ì–‘í•œ ì§€í‘œë¥¼ í†µí•œ ëž­í‚¹ ê³„ì‚°
- ë‚ ì§œë³„ ëž­í‚¹ ížˆìŠ¤í† ë¦¬ ê´€ë¦¬

### 5. í™•ìž¥ ê°€ëŠ¥í•œ êµ¬ì¡°
- AI ì„œë¹„ìŠ¤ë³„ ìƒì„¸ ì½˜í…ì¸  ê´€ë¦¬
- SNS ë§í¬ ê´€ë¦¬
- ìœ ì‚¬ ì„œë¹„ìŠ¤ ì¶”ì²œ ì‹œìŠ¤í…œ
```

### Ranking Weights (ëž­í‚¹ ê°€ì¤‘ì¹˜ ì„¤ì •)
```sql
CREATE TABLE ranking_weights (
  id INT PRIMARY KEY AUTO_INCREMENT,
  ranking_type VARCHAR(50) NOT NULL, -- ai_service, content, expert, category
  weight_name VARCHAR(100) NOT NULL,
  weight_value DECIMAL(5,3) NOT NULL,
  weight_description TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE KEY unique_ranking_weight (ranking_type, weight_name)
);
```

### Rankings (ëž­í‚¹ ê²°ê³¼ ì €ìž¥)
```sql
CREATE TABLE rankings (
  id INT PRIMARY KEY AUTO_INCREMENT,
  ranking_type VARCHAR(50) NOT NULL,
  entity_id INT NOT NULL,
  entity_type VARCHAR(50) NOT NULL, -- ai_service_id, content_id, expert_id, category_id
  total_score DECIMAL(10,3) NOT NULL,
  view_count INT DEFAULT 0,
  request_count INT DEFAULT 0,
  avg_rating DECIMAL(3,2) DEFAULT 0,
  ranking_date DATE NOT NULL,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  UNIQUE KEY unique_ranking_entity_date (ranking_type, entity_id, ranking_date)
);
```

## ðŸ” ì¸ë±ìŠ¤ ì „ëžµ

### ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì£¼ìš” ì¸ë±ìŠ¤

```sql
-- ì‚¬ìš©ìž ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_users_email ON users(email);
CREATE INDEX idx_users_type_status ON users(user_type, user_status);

-- ì „ë¬¸ê°€ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_experts_user_id ON experts(user_id);
CREATE INDEX idx_experts_group_id ON experts(group_id);
CREATE INDEX idx_experts_status ON experts(expert_status);
CREATE INDEX idx_experts_location ON experts(expert_location);

-- AI ì„œë¹„ìŠ¤ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_ai_services_type ON ai_services(ai_type);
CREATE INDEX idx_ai_services_status ON ai_services(ai_status);
CREATE INDEX idx_ai_services_nationality ON ai_services(nationality);

-- ì½˜í…ì¸  ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_contents_type ON contents(content_type);
CREATE INDEX idx_contents_status ON contents(content_status);
CREATE INDEX idx_contents_order ON contents(content_order_index);

-- ê´€ê³„ í…Œì´ë¸” ì¸ë±ìŠ¤
CREATE INDEX idx_expert_contents_expert ON expert_contents(expert_id);
CREATE INDEX idx_expert_contents_content ON expert_contents(content_id);

-- ëž­í‚¹ ê´€ë ¨ ì¸ë±ìŠ¤
CREATE INDEX idx_rankings_type_date ON rankings(ranking_type, ranking_date);
CREATE INDEX idx_rankings_entity ON rankings(entity_type, entity_id);
CREATE INDEX idx_content_views_content ON content_views(content_id);
CREATE INDEX idx_content_views_date ON content_views(view_date);
```

## ðŸ“ˆ ë°ì´í„° ê´€ê³„ë„

### í•µì‹¬ ì—”í‹°í‹° ê´€ê³„
```
Users (1) â”€â”€â”€â”€â”€â”€â”€â”€ (1) Experts
  â”‚                    â”‚
  â”‚                    â”‚ (M)
  â”‚                    â”‚
  â”‚ (1)                â””â”€â”€ (M) Expert_Contents (M) â”€â”€â”€â”€ (1) Contents
  â”‚                                                          â”‚
  â”‚ (1)                                                      â”‚ (M)
  â”‚                                                          â”‚
  â””â”€â”€ (M) Matching_Requests (M) â”€â”€â”€â”€ (1) Experts            â””â”€â”€ (M) Content_Category_Relations (M) â”€â”€â”€â”€ (1) Content_Categories
                                                             â”‚
                                                             â””â”€â”€ (M) Content_Tag_Relations (M) â”€â”€â”€â”€ (1) Content_Tags
```

### ëž­í‚¹ ì‹œìŠ¤í…œ ê´€ê³„
```
Contents â”€â”€â”€â”€ (1:M) â”€â”€â”€â”€ Content_Views
    â”‚                        â”‚
    â”‚                        â”‚
    â””â”€â”€ Rankings â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ (ì§‘ê³„)
         â”‚
         â””â”€â”€ Ranking_Weights (ì„¤ì •)
```

## ðŸ› ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •

### í™˜ê²½ë³„ ë°ì´í„°ë² ì´ìŠ¤
- **ê°œë°œ**: `stepai_dev`
- **ìŠ¤í…Œì´ì§•**: `stepai_staging`
- **í”„ë¡œë•ì…˜**: `stepai_prod`

### ì—°ê²° ì„¤ì •
```typescript
// src/configs/database.ts
const dbConfig = {
  host: process.env.DB_HOST || 'localhost',
  port: parseInt(process.env.DB_PORT || '3306'),
  user: process.env.DB_USER || 'root',
  password: process.env.DB_PASSWORD || '',
  database: process.env.DB_NAME || 'stepai_dev',
  charset: 'utf8mb4',
  timezone: '+00:00'
};
```

## ðŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. ë°ì´í„° ë³´í˜¸
- ë¹„ë°€ë²ˆí˜¸ëŠ” bcryptë¡œ í•´ì‹œí™”
- ê°œì¸ì •ë³´ëŠ” ì•”í˜¸í™” ì €ìž¥
- ì†Œí”„íŠ¸ ì‚­ì œë¡œ ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥

### 2. ì ‘ê·¼ ì œì–´
- ì‚¬ìš©ìž íƒ€ìž…ë³„ ê¶Œí•œ ê´€ë¦¬
- API ë ˆë²¨ì—ì„œ ë°ì´í„° ì ‘ê·¼ ì œí•œ
- ê´€ë¦¬ìž ì „ìš© ê¸°ëŠ¥ ë¶„ë¦¬

### 3. ë°ì´í„° ë¬´ê²°ì„±
- ì™¸ëž˜ í‚¤ ì œì•½ ì¡°ê±´
- ì¤‘ë³µ ë°ì´í„° ë°©ì§€ (UNIQUE ì œì•½)
- ë°ì´í„° ê²€ì¦ ê·œì¹™

## ðŸ“Š ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

### ì£¼ìš” ëª¨ë‹ˆí„°ë§ ì§€í‘œ
1. **ì¿¼ë¦¬ ì„±ëŠ¥**: ëŠë¦° ì¿¼ë¦¬ ë¡œê·¸ ë¶„ì„
2. **ì¸ë±ìŠ¤ ì‚¬ìš©ë¥ **: EXPLAIN ëª…ë ¹ì–´ë¡œ í™•ì¸
3. **í…Œì´ë¸” í¬ê¸°**: ì •ê¸°ì ì¸ ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
4. **ì—°ê²° ìˆ˜**: ë™ì‹œ ì ‘ì†ìž ìˆ˜ ê´€ë¦¬

### ìµœì í™” ì „ëžµ
1. **íŒŒí‹°ì…”ë‹**: ëŒ€ìš©ëŸ‰ í…Œì´ë¸” ë¶„í• 
2. **ìºì‹±**: ìžì£¼ ì¡°íšŒë˜ëŠ” ë°ì´í„° ìºì‹œ
3. **ì½ê¸° ì „ìš© ë³µì œë³¸**: ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒ
4. **ì •ê¸°ì ì¸ í†µê³„ ì—…ë°ì´íŠ¸**: ì¿¼ë¦¬ ìµœì í™”

---

ì´ ë¬¸ì„œëŠ” StepAI APIì˜ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ v1.0.0ì„ ê¸°ì¤€ìœ¼ë¡œ ìž‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.